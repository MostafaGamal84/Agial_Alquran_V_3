@use '@angular/material' as mat;
@include mat.core();
@import "~@ng-select/ng-select/themes/default.theme.css";

// from third party packages
@import 'node_modules/ngx-owl-carousel-o/lib/styles/prebuilt-themes/owl.carousel.min.css';
@import 'node_modules/ngx-owl-carousel-o/lib/styles/prebuilt-themes/owl.theme.default.min.css';
@import 'node_modules/animate.css/animate.min.css';

// quill editor
@import 'quill/dist/quill.bubble.css';
@import 'quill/dist/quill.snow.css';

// calender
@import 'node_modules/flatpickr/dist/flatpickr.css';
@import 'node_modules/angular-calendar/css/angular-calendar.css';

// font
@import '@fontsource-variable/cairo/index.css';
@import 'scss/fonts/fontawesome.css';
@import 'scss/fonts/material.css';
@import 'scss/fonts/tabler-icons.min.css';

@font-face {
  font-family: 'Amiri Quran';
  src: url('assets/fonts/SuisseIntl-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

// theme setup
@import './app/@theme/styles/theme-palette-colors.scss';
@import './app/@theme/styles/theme-dark-palette-colors.scss';
@import './app/@theme/styles/theme.scss';
@include mat.all-component-typographies(
  theme-typography("'Amiri Quran', 'Cairo Variable', 'Cairo', sans-serif")
); // theme typography
@import 'swiper/css';
@import 'swiper/css/navigation';
@import 'swiper/css/pagination';
// default theme
@include mat.all-component-themes(get-light-theme($blue-theme));

// generate non material classes based on theme
.blue-theme {
  @include generate-theme-classes($blue-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($blue-dark-theme));
    @include generate-theme-classes($blue-dark-theme, true); // generate non material classes based on theme
  }
}

.indigo-theme {
  @include mat.all-component-colors(get-light-theme($indigo-theme));
  @include generate-theme-classes($indigo-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($indigo-dark-theme));
    @include generate-theme-classes($indigo-dark-theme, true); // generate non material classes based on theme
  }
}

.purple-theme {
  @include mat.all-component-colors(get-light-theme($purple-theme));
  @include generate-theme-classes($purple-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($purple-dark-theme));
    @include generate-theme-classes($purple-dark-theme, true); // generate non material classes based on theme
  }
}

.pink-theme {
  @include mat.all-component-colors(get-light-theme($pink-theme));
  @include generate-theme-classes($pink-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($pink-dark-theme));
    @include generate-theme-classes($pink-dark-theme, true); // generate non material classes based on theme
  }
}

.red-theme {
  @include mat.all-component-colors(get-light-theme($red-theme));
  @include generate-theme-classes($red-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($red-dark-theme));
    @include generate-theme-classes($red-dark-theme, true); // generate non material classes based on theme
  }
}

.orange-theme {
  @include mat.all-component-colors(get-light-theme($orange-theme));
  @include generate-theme-classes($orange-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($orange-dark-theme));
    @include generate-theme-classes($orange-dark-theme, true); // generate non material classes based on theme
  }
}

.yellow-theme {
  @include mat.all-component-colors(get-light-theme($yellow-theme));
  @include generate-theme-classes($yellow-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($yellow-dark-theme));
    @include generate-theme-classes($yellow-dark-theme, true); // generate non material classes based on theme
  }
}

.green-theme {
  @include mat.all-component-colors(get-light-theme($green-theme));
  @include generate-theme-classes($green-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($green-dark-theme));
    @include generate-theme-classes($green-dark-theme, true); // generate non material classes based on theme
  }
}

.teal-theme {
  @include mat.all-component-colors(get-light-theme($teal-theme));
  @include generate-theme-classes($teal-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($teal-dark-theme));
    @include generate-theme-classes($teal-dark-theme, true); // generate non material classes based on theme
  }
}

.cyan-theme {
  @include mat.all-component-colors(get-light-theme($cyan-theme));
  @include generate-theme-classes($cyan-theme, false); // generate non material classes based on theme

  &.dark {
    @include mat.all-component-colors(get-dark-theme($cyan-dark-theme));
    @include generate-theme-classes($cyan-dark-theme, true); // generate non material classes based on theme
  }
}

// common
@import './scss/generic';
@import './scss/common';
@import './scss/variables';

// theme layouts
@import './app/@theme/styles/layouts/menu';
@import './app/@theme/styles/layouts/compact-menu.scss';
@import './app/@theme/styles/layouts/horizontal-menu.scss';
@import './app/@theme/styles/pages/file-manager.scss';
@import './app/@theme/styles/pages/dashboard.scss';
@import './app/@theme/styles/theme-mode/rtl';

// grid
@import './app/@theme/styles/grid';

// toast styles
.toast-success {
  background-color: #4caf50;
  color: #fff;
  .mdc-snackbar__label {
    align-items: center;
    display: flex;
    gap: 8px;
  }

  .mdc-snackbar__label::before {
    content: 'âœ”';
    font-weight: 700;
  }
}

.toast-error {
  background-color: #f44336;
  color: #fff;
}

/* Accessibility utility: visually hidden, screen-reader available content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Accessibility mode marker class (kept style-neutral to avoid UI changes) */
body.accessibility-mode {
  .sr-only {
    position: absolute;
  }
}

body.ramadan-theme {
  --ramadan-primary: #0e1f4d;
  --ramadan-secondary: #1f4a8a;
  --ramadan-accent: #c9a227;

  background-image: radial-gradient(circle at top right, rgba(201, 162, 39, 0.16), transparent 28%),
    radial-gradient(circle at 14% 20%, rgba(255, 255, 255, 0.12), transparent 18%),
    linear-gradient(145deg, rgba(14, 31, 77, 0.96), rgba(31, 74, 138, 0.92));
  background-attachment: fixed;
}

body.ramadan-theme .pc-container {
  position: relative;
}

body.ramadan-theme .pc-container::before {
  content: 'Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ðŸŒ™';
  position: fixed;
  top: 88px;
  inset-inline-end: 18px;
  padding: 0.45rem 0.85rem;
  border-radius: 999px;
  background: rgba(10, 22, 55, 0.88);
  color: #f6de91;
  border: 1px solid rgba(246, 222, 145, 0.38);
  font-size: 0.9rem;
  font-weight: 700;
  z-index: 1000;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.22);
}

body.ramadan-theme .pc-header,
body.ramadan-theme .pc-sidebar {
  backdrop-filter: saturate(112%) blur(3px);
}

body.ramadan-theme .pc-header {
  background: linear-gradient(95deg, rgba(11, 25, 65, 0.96), rgba(26, 58, 116, 0.93));
}

body.ramadan-theme .pc-sidebar {
  background: linear-gradient(180deg, rgba(13, 27, 63, 0.98), rgba(8, 16, 39, 0.95));
}

body.ramadan-theme .card,
body.ramadan-theme .mat-mdc-card {
  border: 1px solid rgba(201, 162, 39, 0.18);
  box-shadow: 0 14px 30px rgba(9, 16, 39, 0.22);
}

body.ramadan-theme .pc-head-link.active,
body.ramadan-theme .pc-link.active,
body.ramadan-theme .pc-link:hover {
  color: #f6de91 !important;
}

body.ramadan-theme .mat-mdc-raised-button.mat-primary,
body.ramadan-theme .mat-mdc-unelevated-button.mat-primary {
  --mdc-filled-button-container-color: var(--ramadan-secondary);
}
